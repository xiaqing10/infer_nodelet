if (NOT DEFINED CPACK_DEB_COMPONENT_INSTALL)
    if (NOT (CMAKE_VERSION VERSION_LESS "3.6"))
        set(CPACK_DEB_COMPONENT_INSTALL             ON)
    endif ()
endif ()
if (CPACK_DEB_COMPONENT_INSTALL)
    message(STATUS "CPACK_DEB_COMPONENT_INSTALL is on")
    set(CPACK_DEBIAN_ENABLE_COMPONENT_DEPENDS       ON)
endif ()
 
 
set(CPACK_GENERATOR                                 "DEB")
set(CPACK_PACKAGING_INSTALL_PREFIX                  "@ROS_PACKGE_RELOCATE@")
set(CPACK_PACKAGE_NAME                              "infer-sophon-m9")
set(CPACK_PACKAGE_VERSION                           "0.6.0")
set(CPACK_PACKAGE_VENDOR                            "ehawkeye")
# 设置联系方式
set(CPACK_PACKAGE_CONTACT                           "xiaqing@ehawkeye.cn")
set(CPACK_PACKAGE_DESCRIPTION_SUMMARY               "this is a infer CPack")
set(CPACK_PACKAGE_DESC                              "适用于绵久，包含了隧道数据")
 
# 设置section
set(CPACK_DEBIAN_PACKAGE_SECTION                    "devel")
# 设置priority
set(CPACK_DEBIAN_PACKAGE_ARCHITECTURE               "arm64")
set(CPACK_PACKAGE_ARCHITECTURE                      ${CPACK_DEBIAN_PACKAGE_ARCHITECTURE})
# 设置依赖
set(CPACK_DEBIAN_PACKAGE_DEPENDS                    )
# 设置额外控制文件
set(CPACK_DEBIAN_PACKAGE_CONTROL_EXTRA              "${CMAKE_CURRENT_SOURCE_DIR}/package/deb/DEBIAN/postinst"
                                                    "${CMAKE_CURRENT_SOURCE_DIR}/package/deb/DEBIAN/postrm"
                                                    "${CMAKE_CURRENT_SOURCE_DIR}/package/deb/DEBIAN/preinst"
)

set(CPACK_DEBIAN_PACKAGE_CONTROL_STRICT_PERMISSION  TRUE)

set(CPACK_PACKAGE_FILE_NAME                         "${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}-${CPACK_PACKAGE_ARCHITECTURE}")
 
 
# 打开调试开关
set(CPACK_DEBIAN_PACKAGE_DEBUG                      ON)
set(CPACK_PACKAGE_DIRECTORY                         "${CMAKE_INSTALL_PREFIX}")
set(CPACK_INSTALL_COMMANDS                          "rm -rf ${CMAKE_INSTALL_PREFIX}/_CPack_Packages")
include(CPack)
 
#execute_process(
#    COMMAND ${CMAKE_COMMAND} -E remove_directory ${CMAKE_INSTALL_PREFIX}/_CPack_Packages RESULT_VARIABLE msg
#)
 
if (DEFINED CPACK_DEBIAN_PACKAGE_DEBUG)
   message(STATUS "CPack: CMAKE_SYSTEM_PROCESSOR = ${CMAKE_SYSTEM_PROCESSOR}")
endif()
